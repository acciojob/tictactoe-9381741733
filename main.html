<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tic Tac Toe</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
    }
    .container {
      max-width: 400px;
      margin: 50px auto;
    }
    h1 {
      font-family: 'Cursive', sans-serif;
    }
    .message {
      margin: 10px 0;
      font-size: 1.2rem;
    }
    .board {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      grid-template-rows: repeat(3, 100px);
      gap: 5px;
      justify-content: center;
    }
    .cell {
      width: 100px;
      height: 100px;
      background-color: #ffb6c1;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2.5rem;
      cursor: pointer;
      border: 1px solid black;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Tic Tac Toe</h1>
    
    <div id="setup">
      <label for="player-1">Player 1: </label>
      <input type="text" id="player-1" placeholder="Enter name"><br><br>
      <label for="player-2">Player 2: </label>
      <input type="text" id="player-2" placeholder="Enter name"><br><br>
      <button id="submit">Start Game</button>
    </div>

    <div id="game" class="hidden">
      <div class="message"></div>
      <div class="board" id="board"></div>
    </div>
  </div>

  <script>
    let currentPlayer = 'X';
    let player1 = '';
    let player2 = '';
    let moves = 0;

    const winningCombos = [
      ['cell-1', 'cell-2', 'cell-3'], ['cell-4', 'cell-5', 'cell-6'], ['cell-7', 'cell-8', 'cell-9'],  
      ['cell-1', 'cell-4', 'cell-7'], ['cell-2', 'cell-5', 'cell-8'], ['cell-3', 'cell-6', 'cell-9'],  
      ['cell-1', 'cell-5', 'cell-9'], ['cell-3', 'cell-5', 'cell-7']
    ];

    document.getElementById('submit').addEventListener('click', function () {
      player1 = document.getElementById('player-1').value || 'Player 1';
      player2 = document.getElementById('player-2').value || 'Player 2';

      document.getElementById('setup').classList.add('hidden');
      document.getElementById('game').classList.remove('hidden');

      updateMessage(`${player1}, you're up`);

      createBoard();
    });

    function createBoard() {
      const board = document.getElementById('board');
      board.innerHTML = ''; // Clear board for fresh start
      for (let i = 1; i <= 9; i++) {
        const cell = document.createElement('div');
        cell.classList.add('cell');
        cell.id = `cell-${i}`;
        cell.addEventListener('click', handleMove);
        board.appendChild(cell);
      }
    }

    function handleMove(event) {
      const cell = event.target;

      if (cell.textContent !== '') return;  // Ignore already filled cells

      cell.textContent = currentPlayer;
      moves++;

      if (checkWin()) {
        updateMessage(`${currentPlayer === 'X' ? player1 : player2}, congratulations you won!`);
        disableBoard();
      } else if (moves === 9) {
        updateMessage("It's a draw!");
        disableBoard();
      } else {
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
        updateMessage(`${currentPlayer === 'X' ? player1 : player2}, you're up`);
      }
    }

    function updateMessage(message) {
      document.querySelector('.message').textContent = message;
    }

    function checkWin() {
      const cells = document.querySelectorAll('.cell');
      const cellValues = Array.from(cells).reduce((acc, cell) => {
        acc[cell.id] = cell.textContent;
        return acc;
      }, {});

      return winningCombos.some(combo =>
        combo.every(index => cellValues[index] === currentPlayer)
      );
    }

    function disableBoard() {
      document.querySelectorAll('.cell').forEach(cell => cell.removeEventListener('click', handleMove));
    }
  </script>
</body>
</html>
